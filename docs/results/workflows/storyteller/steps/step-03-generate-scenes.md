# Step 03: Generate Scene Breakdown

**Goal:** Create scene-by-scene breakdown and output files for screenwriter.

**Scope:** Scene structure, file creation, pipeline state update.

**Token Budget:** ~350 tokens (scene generation + file operations)

---

## SCENE GENERATION

### 1. Determine Scene Count

Based on target duration and emotional complexity:

| Target Duration | Recommended Scenes | Notes |
|-----------------|-------------------|-------|
| 3-5 minutes | 6-10 scenes | Quick emotional arc |
| 5-10 minutes | 10-15 scenes | Standard short film |
| 10-15 minutes | 15-20 scenes | Complex narrative |

**Default:** 10-15 scenes for 5-10 minute target duration.

### 2. Build Emotional Arc

Map emotions across scenes:

```
SCENE PROGRESSION:
1-3:   Establishment - introduce character, hint at emotion
4-6:   Development - deepen emotional state
7-9:   Intensification - peak emotional moments
10-12: Resolution/Transformation - emotional shift or culmination
```

### 3. Generate Each Scene

For each scene, use this template:

```markdown
### Scene [N]: [Brief Title]

**Location:** [Specific, filmable location]
**Time:** [Time of day / time progression]
**Duration:** [Estimated duration in seconds]

**Visual Action:**
[2-4 sentences describing what character PHYSICALLY DOES - visible actions only]

**Key Visuals:**
- [Specific visual element 1]
- [Specific visual element 2]
- [Specific visual element 3]

**Emotional Beat:** [What audience should FEEL watching this]

**Story Logic:** [How this scene translates original metaphor - reference transformation]
```

### 4. Scene Quality Checklist

For each scene, verify:

- [ ] Location is specific and filmable
- [ ] Actions are VISIBLE (not internal thoughts)
- [ ] Key visuals are concrete enough for image generation
- [ ] Emotional beat is clear
- [ ] Story logic explains connection to source material

---

## OUTPUT FILE CREATION

### File A: Scene Breakdown Markdown

**File path:** `{project-root}/.bmad/creative-studio/workflows/storyteller/outputs/scenes-{timestamp}.md`

**Timestamp format:** ISO8601 with hyphens: `YYYY-MM-DDTHH-MM-SSZ`

**Content structure:**

```markdown
# Visual Story Breakdown: [Title]

## Source Material Summary

- **Original Concept:** [From diverse-content-gen, brief summary]
- **Selected Idea:** #[id] - [title]
- **Emotional Core:** [Primary emotion identified]
- **Tone:** [Preserved from source]
- **Target Duration:** [duration estimate]

## Character(s)

### [Character Name/Role]
**Visual Description:** [Age, appearance, notable features]
**Emotional State:** [Their emotional condition throughout]
**Key Behaviors:** [Recurring actions or mannerisms]

## Scene-by-Scene Breakdown

### Scene 1: [Title]
[Full scene template as above]

---

### Scene 2: [Title]
[Continue for all scenes...]

---

## Story Logic Map

| # | Original Metaphor | Emotional Core | Visual Translation | Scene(s) |
|---|-------------------|----------------|-------------------|----------|
| 1 | "..." | ... | ... | 3, 7 |
| 2 | "..." | ... | ... | 5, 9, 11 |

## Emotional Arc

```
Scene 1-3:   [Establishment description]
Scene 4-6:   [Development description]
Scene 7-9:   [Intensification description]
Scene 10+:   [Resolution description]
```

## Technical Notes for Screenwriter

- [Pacing notes]
- [Transition suggestions]
- [Visual consistency requirements]
- [Any specific formatting needs]

---

*Generated by Storyteller Workflow*
*Source: diverse-content-gen output*
*Ready for: Screenwriter formatting*
```

### File B: Tracking YAML

**File path:** `{project-root}/.bmad/creative-studio/_state/storyteller-{timestamp}.yaml`

**Content (matching handoff-schema.yaml):**

```yaml
---
# Creative Pipeline State - storyteller
workflow_stage: 02-storyteller
next_stage: 03-screenwriter
status: completed
created_at: "{timestamp}"
user_name: "{user_name}"

# Input Reference
input_from: "01-diverse-content-gen"
input_tracking_file: "_state/content-gen-{previous_timestamp}.yaml"
input_content_file: "{path from input}"

# Output References
scene_breakdown_file: "workflows/storyteller/outputs/scenes-{timestamp}.md"

# === HANDOFF METADATA FOR SCREENWRITER ===
# ALL fields below are REQUIRED by screenwriter workflow
# Reference: _state/handoff-schema.yaml ‚Üí storyteller_to_screenwriter

# Scene data
total_scenes: {number}
scene_titles:
  - "Scene 1: {title}"
  - "Scene 2: {title}"
  # ... all scene titles

# Characters
characters:
  - name: "{character name}"
    description: "{visual description}"
    role: "{primary/secondary}"

# Story logic
story_logic_map:
  - metaphor: "{original}"
    translation: "{visual}"
    scenes: [3, 7]  # Which scenes use this

# Duration and arc
estimated_duration: "{X minutes}"
emotional_arc: "{hope ‚Üí despair ‚Üí acceptance}"

# Locations list (for production planning)
locations:
  - "Frozen beach at dawn"
  - "Small apartment, shrine corner"
  # ... all unique locations

# Pipeline control
ready_for_next_stage: true
metaphors_translated: {number}
filmability_verified: true

---
```

---

## UPDATE PIPELINE STATE

Use the **Edit** tool to update `creative-pipeline-state.yaml`:

**Find (old_string):**
```yaml
  - stage: 02-storyteller
    status: ready
    input_from: "01-diverse-content-gen"
    waiting_for_user: false
```

**Replace with (new_string):**
```yaml
  - stage: 02-storyteller
    status: completed
    input_from: "01-diverse-content-gen"
    output_file: "workflows/storyteller/outputs/scenes-{timestamp}.md"
    tracking_file: "_state/storyteller-{timestamp}.yaml"
    completed_at: "{timestamp}"
```

**THEN find (old_string):**
```yaml
  - stage: 03-screenwriter
    status: pending
    input_from: null
    waiting_for_user: false
```

**Replace with (new_string):**
```yaml
  - stage: 03-screenwriter
    status: ready
    input_from: "02-storyteller"
    waiting_for_user: false
```

**THEN update Quick Access section:**
```yaml
current_stage: "03-screenwriter"
last_output: "workflows/storyteller/outputs/scenes-{timestamp}.md"
next_stage_ready: true
```

---

## WORKFLOW COMPLETION

### Summary for User

```
‚úÖ Visual Story Breakdown Complete!

üìÑ Scene Breakdown: {file_path}
üé¨ Total Scenes: {count}
‚è±Ô∏è Estimated Duration: {duration}
üé≠ Emotional Arc: {arc summary}

STORY TRANSFORMATION:
- {N} metaphors translated to filmable visuals
- All scenes verified for filmability
- Story logic map documenting all creative decisions

NEXT STEP OPTIONS:

1. **Continue to Screenwriter Workflow**
   Format scenes into professional screenplay format

2. **Review Scene Breakdown**
   Read through the scenes and request adjustments

3. **Regenerate Specific Scenes**
   Ask me to revise particular scenes

4. **Exit Pipeline**
   Save progress and exit

What would you like to do?
```

### If User Continues to Screenwriter

```
Loading screenwriter workflow...

The screenwriter will:
- Add proper screenplay formatting (sluglines, action blocks)
- Apply industry-standard formatting conventions
- Prepare for production validator review

[Load: {project-root}/.bmad/creative-studio/workflows/screenwriter/workflow.md]
```

---

## COMPLETION CHECKLIST

Before marking workflow complete:

- [ ] Scene breakdown file written
- [ ] Tracking YAML created with ALL handoff fields
- [ ] Pipeline state updated
- [ ] User presented with summary and options

---

**Storyteller workflow complete. Ready for screenwriter or user exit.**
